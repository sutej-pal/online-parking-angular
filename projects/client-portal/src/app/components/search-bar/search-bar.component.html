<form [formGroup]="formGroup" (ngSubmit)="onSubmit()" *ngIf="isFormReady$ | async"
      class="d-flex justify-content-center align-items-center">
  <mat-form-field appearance="outline" style="width: 350px">
    <mat-label>Parking Destination</mat-label>
    <input matInput type="text" id="pac-input" formControlName="destination">
    <button type="button" matSuffix mat-icon-button aria-label="Clear" (click)="getCurrentLocation($event)">
      <mat-icon>my_location</mat-icon>
    </button>
  </mat-form-field>
  <mat-form-field appearance="outline" class="custom-datepicker">
    <mat-label>Arrival Time</mat-label>
    <input matInput [matDatepicker]="picker" formControlName="startDate">
    <mat-datepicker-toggle matSuffix [for]="picker" (click)="setEventListener(picker)"></mat-datepicker-toggle>
    <mat-datepicker #picker>
      <mat-datepicker-actions class="w-100 position-relative">
        <app-date-time-picker [hidden]="!isTimeVisible"
                              (hideTimePicker)="isTimeVisible = false"
                              [time]="'10:00'"
                              (timeSelected)="handleTimePicker($event)"
        ></app-date-time-picker>
        <div
          class="custom-datepicker-actions position-relative w-100 d-flex justify-content-evenly align-items-center py-3">
          <span class="text">Time of arrival</span>
          <span
            class="time-modal-trigger-button border border-1 border border-secondary d-flex justify-content-evenly align-items-center"
            (click)="isTimeVisible = !isTimeVisible">{{selectedTime}}
            <mat-icon>expand_more</mat-icon> </span>
        </div>
      </mat-datepicker-actions>
    </mat-datepicker>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Exit Time</mat-label>
    <input matInput [matDatepicker]="picker1" formControlName="endDate">
    <mat-datepicker-toggle matSuffix [for]="picker1" (click)="setEventListener(picker)"></mat-datepicker-toggle>
    <mat-datepicker #picker1>
      <mat-datepicker-actions class="w-100 position-relative">
        <app-date-time-picker [hidden]="!isTimeVisible"
                              (hideTimePicker)="isTimeVisible = false"
                              [time]="'10:00'"
                              (timeSelected)="handleTimePicker($event)"
        ></app-date-time-picker>
        <div class="custom-datepicker-actions w-100 d-flex justify-content-evenly align-items-center py-3">
          <span class="text">Time of exit</span>
          <span
            class="time-modal-trigger-button border border-1 border border-secondary d-flex justify-content-evenly align-items-center"
            (click)="isTimeVisible = !isTimeVisible">{{selectedTime}}
            <mat-icon>expand_more</mat-icon> </span>
        </div>
      </mat-datepicker-actions>
    </mat-datepicker>
  </mat-form-field>
  <button mat-raised-button color="primary" class="submit-btn">SEARCH</button>
</form>

